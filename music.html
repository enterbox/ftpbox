<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8"> 
</head> 
<title>music</title>
<style type="text/css">
    body {background-image:url('https://pic1.imgdb.cn/item/68f482c33203f7be007d478b.jpg');background-size: 50%;}
</style>
</head>
<body>
    <div class="mac-window" id="playerWindow">
        <div class="titlebar" id="dragHandle">
            <div class="btns">
                <span class="btn close"></span>
                <span class="btn minimize"></span>
                <span class="btn zoom"></span>
            </div>
            <div class="title">QuickTime</div>
            <div class="menu-hint">*Fucking Player</div>
        </div>

        <div class="content">
            <div class="left">
                <div class="art" id="art">
                    <div class="note">♪</div>
                </div>
                <div class="meta">
                    <div id="trackTitle">—</div>
                    <div id="trackArtist">—</div>
                </div>
            </div>

            <div class="right">
                <div class="controls">
                    <button id="prev" class="ctrl">◀◀</button>
                    <button id="play" class="ctrl">▶</button>
                    <button id="next" class="ctrl">▶▶</button>
                    <div class="time"><span id="curTime">0:00</span> / <span id="dur">0:00</span></div>
                </div>

                <div class="progress" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <div class="mix">
                    <label>Volume
                        <input id="volume" type="range" min="0" max="1" step="0.01" value="0.8">
                    </label>
                </div>

                <div class="playlist" id="playlist"></div>
            </div>
        </div>
    </div>

    <style>
    /* Classic macOS 8-ish window styling */
    .mac-window {
        width: 680px;
        margin: 48px auto;
        background: linear-gradient(#d9d9d9, #bfbfbf);
        border: 2px solid #fff;
        box-shadow: 4px 4px 0 rgba(0,0,0,0.5);
        font-family: "Helvetica Neue", Arial, "Nimbus Sans L", sans-serif;
        color: #000;
        user-select: none;
        position: relative;
    }

    /* Title bar */
    .titlebar {
        height: 28px;
        display: flex;
        align-items: center;
        background: linear-gradient(#e9e9e9, #bfbfbf);
        border-bottom: 1px solid #999;
        padding: 0 8px;
        cursor: move;
    }
    .titlebar .btns { display:flex; gap:6px; width:72px; }
    .btn {
        width:12px; height:12px;
        border-radius:50%;
        display:inline-block;
        box-shadow: inset 0 -1px 0 rgba(0,0,0,0.2);
        border:1px solid #777;
    }
    .btn.close { background: radial-gradient(circle at 30% 30%, #ff6b6b, #c43f3f); }
    .btn.minimize { background: radial-gradient(circle at 30% 30%, #ffd76a, #c2932b); }
    .btn.zoom { background: radial-gradient(circle at 30% 30%, #86ec86, #2fa32f); }

    .title { flex:1; text-align:center; font-weight:bold; font-size:13px; color:#111; text-shadow: 0 1px #fff; }
    .menu-hint { width:120px; font-size:11px; text-align:right; color:#333; opacity:.8; }

    /* Content layout */
    .content { display:flex; padding:12px; gap:12px; }
    .left { width:220px; text-align:center; }
    .art {
        width:200px; height:200px;
        background: linear-gradient(135deg,#f2f2f2,#d8d8d8);
        border:2px solid #999;
        display:flex; align-items:center; justify-content:center;
        font-size:72px; color:#777;
        box-shadow: inset -4px -4px 0 rgba(255,255,255,0.6), inset 4px 4px 0 rgba(0,0,0,0.05);
    }
    .meta { margin-top:8px; font-size:13px; }
    .meta #trackTitle { font-weight:bold; }
    .meta #trackArtist { font-size:12px; color:#333; margin-top:4px; }

    /* Right side */
    .right { flex:1; display:flex; flex-direction:column; gap:10px; }
    .controls { display:flex; align-items:center; gap:8px; }
    .ctrl {
        background: linear-gradient(#e8e8e8,#bfbfbf);
        border:1px solid #777;
        padding:6px 10px;
        font-weight:bold;
        cursor:pointer;
        box-shadow: 0 1px 0 #fff inset;
    }
    .time { margin-left:auto; font-size:12px; color:#222; }

    /* Progress */
    .progress { height:10px; background:#e5e5e5; border:1px inset #fff; position:relative; cursor:pointer; }
    .progress-fill {
        height:100%; background: linear-gradient(#7aa4ff,#2266ff);
        width:0%;
    }

    /* Volume */
    .mix { font-size:12px; }
    .mix input[type="range"] { width:160px; vertical-align:middle; }

    /* Playlist */
    .playlist { border-top:2px solid #cfcfcf; padding-top:8px; max-height:140px; overflow:auto; background:linear-gradient(#eaeaea,#d7d7d7); border:1px solid #bbb; }
    .track {
        padding:6px; border-bottom:1px dotted #c0c0c0; cursor:pointer; display:flex; justify-content:space-between;
    }
    .track:hover { background:#f3f3f3; }
    .track.active { background:linear-gradient(#dbeaff,#c7ddff); font-weight:bold; }

    /* small responsive */
    @media (max-width:720px){ .mac-window { width:95%; } }
    </style>

    <script>
    (function(){
        const tracks = [
            { title: "メズマライザー But Roblox in 2008", artist: "サツキ, DownFrown", src: "https://ik.imagekit.io/anrobush/%E3%83%A1%E3%82%BA%E3%83%9E%E3%83%A9%E3%82%A4%E3%82%B6%E3%83%BC.MP3?updatedAt=1760850034721" },
            { title: "电棍：初生修炼手册♿", artist: "YFCJ_123", src: "https://ik.imagekit.io/anrobush/506191153_nb2-1-16.mp3" },
            { title: "See you again", artist: "劳大我们想你了", src: "https://ik.imagekit.io/anrobush/1285660690-1-192.mp3" }
        ];

        const audio = new Audio();
        audio.preload = "metadata";

        let idx = 0;
        const playBtn = document.getElementById('play');
        const prevBtn = document.getElementById('prev');
        const nextBtn = document.getElementById('next');
        const titleEl = document.getElementById('trackTitle');
        const artistEl = document.getElementById('trackArtist');
        const curTimeEl = document.getElementById('curTime');
        const durEl = document.getElementById('dur');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const volume = document.getElementById('volume');
        const playlistEl = document.getElementById('playlist');
        const art = document.getElementById('art');

        function secsToTime(s){
            if (!isFinite(s)) return "0:00";
            const m = Math.floor(s/60), sec = Math.floor(s%60);
            return m + ":" + (sec<10 ? "0"+sec : sec);
        }

        function loadTrack(i){
            idx = (i+tracks.length)%tracks.length;
            audio.src = tracks[idx].src;
            titleEl.textContent = tracks[idx].title;
            artistEl.textContent = tracks[idx].artist;
            Array.from(playlistEl.children).forEach((el, n)=> el.classList.toggle('active', n===idx));
            art.innerHTML = '<div class="note"><img src="https://pic1.imgdb.cn/item/68f47efa3203f7be007d3829.png" alt="Q" width="120" height="120"></div>';
            audio.load();
        }

        function togglePlay(){
            if (audio.paused) {
                audio.play();
                playBtn.textContent = '❚❚';
            } else {
                audio.pause();
                playBtn.textContent = '▶';
            }
        }

        playBtn.addEventListener('click', togglePlay);
        prevBtn.addEventListener('click', ()=> { loadTrack(idx-1); audio.play(); playBtn.textContent='❚❚'; });
        nextBtn.addEventListener('click', ()=> { loadTrack(idx+1); audio.play(); playBtn.textContent='❚❚'; });

        audio.addEventListener('timeupdate', ()=>{
            curTimeEl.textContent = secsToTime(audio.currentTime);
            if (audio.duration) {
                durEl.textContent = secsToTime(audio.duration);
                const pct = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = pct + '%';
            } else {
                durEl.textContent = '0:00';
            }
        });

        audio.addEventListener('ended', ()=> { loadTrack(idx+1); audio.play(); });

        progressBar.addEventListener('click', (e)=>{
            const rect = progressBar.getBoundingClientRect();
            const pct = (e.clientX - rect.left) / rect.width;
            if (audio.duration) audio.currentTime = pct * audio.duration;
        });

        volume.addEventListener('input', ()=> audio.volume = parseFloat(volume.value) );

        // build playlist UI
        tracks.forEach((t, i)=>{
            const el = document.createElement('div');
            el.className = 'track';
            el.innerHTML = '<span>'+t.title+'</span><em style="opacity:.7;">'+t.artist+'</em>';
            el.addEventListener('click', ()=> { loadTrack(i); audio.play(); playBtn.textContent='❚❚'; });
            playlistEl.appendChild(el);
        });

        // initialize
        loadTrack(0);
        audio.volume = parseFloat(volume.value);

        // Simple draggable window
        (function makeDraggable(winId, handleId){
            const win = document.getElementById(winId);
            const handle = document.getElementById(handleId);
            let dragging = false, startX, startY, origX, origY;
            handle.addEventListener('mousedown', (e)=>{
                dragging = true;
                startX = e.clientX; startY = e.clientY;
                const rect = win.getBoundingClientRect();
                origX = rect.left; origY = rect.top-45;
                document.body.style.cursor = 'move';
            });
            document.addEventListener('mouseup', ()=> { dragging=false; document.body.style.cursor='default'; });
            document.addEventListener('mousemove', (e)=>{
                if (!dragging) return;
                const dx = e.clientX - startX, dy = e.clientY - startY;
                win.style.position = 'absolute';
                win.style.left = (origX + dx) + 'px';
                win.style.top = (origY + dy) + 'px';
            });
        })('playerWindow','dragHandle');
    })();
    </script>
</body>
</html>